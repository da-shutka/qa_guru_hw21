# qa_guru_hw21
21. Мобильная автоматизация #2. Разрабатываем автотесты с эмулятором Android-устройства и на своем телефоне

## :receipt: Содержание
- [Приложение](#приложение)
- [Задачи](#задачи)
- [Запуски](#запуски)
  - [BrowserStack](#browserstack)
  - [Эмулятор](#эмулятор)
  - [Реальное устройство](#реальное-устройство)

## Приложение
В BrowserStack, на эмуляторе и на реальном устройстве используется одно и то же приложение Википедии. В BrowserStack оно было загружено дополнительно. Для эмулятора и реального устройства - скачивается версия из github или используется уже находящийся в репозитории проекта пакет .apk.
В рамках тестов намеренно меняется язык и местонахождение, чтобы на всех устройствах использовался один и тот же язык (и как следуствие, один и тот же код).

## Задачи
Реализованные задачи:  
```test``` - все тесты  
```search``` - тесты на поиск в Википедии  
```onboard``` - тесты на приветственную страницу в Википедии  

## Запуски

### BrowserStack
Для запуска тестов в BrowserStack локально необходимо ввести в терминале команду
```bash
gradle clean test
gradle clean search -DdeviceHost=browserstack
```
По умолчанию, без указания окружения, тесты запускаются в BrowserStack.  
Тест на приветственную страницу пропускается, и не выполняется в BrowserStack.

### Эмулятор
Перед запуском тестов необходимо запустить:
- эмулятор устройства в Android Studio
- Appium server

Для запуска тестов в эмуляторе необходимо ввести в терминале команду
```bash
gradle clean onboard -DdeviceHost=emulation
```

### Реальное устройство
Перед запуском тестов необходимо:
- подключить к компьютеру реальное устройство
- запустить Appium server

Для запуска тестов в эмуляторе необходимо ввести в терминале команду
```bash
gradle clean onboard -DdeviceHost=real
```

:warning: Внимание! При одновременном запуске эмулятора и подключенного реального устройства, тесты запускаются на реальном устройстве и при указании ```-DdeviceHost=emulation```
